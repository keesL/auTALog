{% extends "base.html" %}
{% block title %}AU Math & CS Tutoring App{% endblock %}


{% block content %}
<div class="container">

	<div class="page-header">
		<h2>Detailed Tutoring report</h2>
	</div>

	{{ self.flashme() }}

	<p>Tutoring provided by <span class="font-weight-normal">{{ email }}</span>.</p>
	
	<h3>Tutoring sessions</h3>
	<div class="row">
	<div class="col-md-12">
	
		<table class="table">
			<thead class="thead-inverse">
				<tr>
					<th>Begin</th>
					<th>End</th>
					<th>Students seen</th>
				</tr>
			</thead>

			<tbody>
		{% for row in rows %}
				<tr>
					<td>{{ row.started.strftime("%d-%b-%Y   %I:%M %p") }}</td>
					<td>{% if row.ended is none %}
						In progress
						{% else %}
						{{ row.ended.strftime("%d-%b-%Y   %I:%M %p") }}
						{% endif %}</td>
					<td><span 
						class="badge badge-pill badge-primary">{{ row.c }}</span>
					</td>
				</tr>
		{% endfor %}
			</tbody>
		</table>
	</div>
	</div><!-- row -->

	<h3>Students seen</h3>
	<div class="row">
	<div class="col-md-12">
		<table class="table">
			<thead class="thead-inverse">
				<tr>
					<th>Student</th>
					<th>Number of encounters</th>
				</tr>
			</thead>

			<tbody>
		{% for student in students %}
				<tr>
					<td>{{ student.student }}</td>
					<td><span 
						class="badge badge-pill badge-primary">{{ student.count }}</span>
					</td>
				</tr>
		{% endfor %}
			</tbody>
		</table>
	</div>
	</div><!-- row -->
	
</div><!-- container -->

{% endblock %}
