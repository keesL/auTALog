{% extends "base.html" %}
{% block title %}AU Math & CS Tutoring App{% endblock %}


{% block content %}
<div class="container">
	<div class="page-header">
		<h2>Course management</h2>
	</div>

	{{ self.flashme() }}
	<form method="POST" action="{{url_for("courses")}}">
	{{ form.cstf_token }}
	<div class="row">
		<div class="col-md-2"></div>
		<div class="col-md-8">
			
			<table class="table">
			<thead>
				<tr>
					<th scope="col">Name</th>
					<th scope="col">Operations</th>
				</tr>
			</thead>
			<tbody>
				{% for course in courses %}
				<tr class="small">
					<td>{{ course.label }}</td>
										<td><a class="btn btn-primary btn-sm"
						   href="{{ url_for('courses') }}/{{course.id}}/edit"
						   >Edit</a> 
					    <a class="btn btn-danger btn-sm"
					       href="{{ url_for('courses') }}/{{course.id}}/delete">Delete</button>
					</td>
				</tr>
				{% endfor %}
			</tbody>
			</table>
		</div>
		<div class="col-md-2"></div>
	</div>

	<h2>Add Course</h2>
	{% if not subject is none %}
	<input type="hidden" name="id" value="{{ subject.id }}">
	{% endif %}
	<div class="row">
		<div class="col-md-2"></div>
		<div class="col-md-8"><table class="table table-sm">
			<tr>
				<td>Course name</td>
				<td>{% if not subject is none %}
					<input type="text" placeholder="Course name"
						name="name" value="{{ subject.label }}"></td>
					{% else %}
					<input type="text" placeholder="Course name"
						name="name"></td>
					{% endif %}
			</tr>
			
		</table>

		<button name="action" value="save" 
			class="btn btn-primary">Save</button>
		</div>

		<div class="col-md-2"></div>
	</div>
	</form>

</div>
{% endblock %}
